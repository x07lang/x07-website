{"decls":[{"kind":"export","names":["ext.yaml.data_model.parse"]},{"body":["begin",["let","msg_malformed",["bytes.lit","yaml:malformed_doc"]],["let","msg_bad_indent",["bytes.lit","yaml:bad_indent"]],["let","msg_bad_map_entry",["bytes.lit","yaml:bad_map_entry"]],["let","msg_empty_key",["bytes.lit","yaml:empty_key"]],["let","msg_bad_scalar",["bytes.lit","yaml:bad_scalar"]],["let","msg_trailing_content",["bytes.lit","yaml:trailing_content"]],["let","raw",["ext.yaml.yaml_parse","src"]],["let","rawv",["bytes.view","raw"]],["if",["=",["ext.yaml.yaml_is_err","rawv"],1],["begin",["let","code",["ext.data_model.doc_error_code","rawv"]],["if",["=","code",1],["return",["ext.data_model.doc_err_from_msg",["bytes.view","msg_malformed"]]],0],["if",["=","code",2],["return",["ext.data_model.doc_err_from_msg",["bytes.view","msg_bad_indent"]]],0],["if",["=","code",3],["return",["ext.data_model.doc_err_from_msg",["bytes.view","msg_bad_map_entry"]]],0],["if",["=","code",4],["return",["ext.data_model.doc_err_from_msg",["bytes.view","msg_empty_key"]]],0],["if",["=","code",5],["return",["ext.data_model.doc_err_from_msg",["bytes.view","msg_bad_scalar"]]],0],["if",["=","code",7],["return",["ext.data_model.doc_err_from_msg",["bytes.view","msg_trailing_content"]]],0],["return",["ext.data_model.doc_err_from_code","code"]]],0],["let","n",["view.len","rawv"]],["let","jsonv",["view.slice","rawv",1,["-","n",1]]],["ext.json.data_model.parse","jsonv"]],"kind":"defn","name":"ext.yaml.data_model.parse","params":[{"name":"src","ty":"bytes_view"}],"result":"bytes"}],"imports":["ext.data_model","ext.json.data_model","ext.yaml"],"kind":"module","module_id":"ext.yaml.data_model","schema_version":"x07.x07ast@0.3.0"}
