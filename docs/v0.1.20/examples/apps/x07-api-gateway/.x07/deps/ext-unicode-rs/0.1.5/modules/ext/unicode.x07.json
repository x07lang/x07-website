{"decls":[{"kind":"export","names":["ext.unicode.unicode_decode_latin1_to_utf8","ext.unicode.unicode_decode_utf16_be_to_utf8","ext.unicode.unicode_decode_utf16_le_to_utf8","ext.unicode.unicode_decode_windows1252_to_utf8","ext.unicode.unicode_encode_utf8_to_latin1","ext.unicode.unicode_encode_utf8_to_utf16_be","ext.unicode.unicode_encode_utf8_to_utf16_le","ext.unicode.unicode_encode_utf8_to_windows1252","ext.unicode.unicode_err_code","ext.unicode.unicode_get_bytes","ext.unicode.unicode_grapheme_slices","ext.unicode.unicode_is_err","ext.unicode.unicode_nfkc_basic","ext.unicode.unicode_utf8_decode_u32le","ext.unicode.unicode_utf8_encode_u32le","ext.unicode.unicode_utf8_is_valid"]},{"body":["if",[">=u","c","lo"],["<u","c",["+","hi",1]],0],"kind":"defn","name":"ext.unicode._cont_range","params":[{"name":"c","ty":"i32"},{"name":"lo","ty":"i32"},{"name":"hi","ty":"i32"}],"result":"i32"},{"body":["begin",["let","doc",["vec_u8.into_bytes","out"]],["let","count_bytes",["codec.write_u32_le","count"]],["set","doc",["bytes.set_u8","doc",9,["bytes.get_u8","count_bytes",0]]],["set","doc",["bytes.set_u8","doc",10,["bytes.get_u8","count_bytes",1]]],["set","doc",["bytes.set_u8","doc",11,["bytes.get_u8","count_bytes",2]]],["set","doc",["bytes.set_u8","doc",12,["bytes.get_u8","count_bytes",3]]],"doc"],"kind":"defn","name":"ext.unicode._finish_slices_doc_x7sl_v1","params":[{"name":"out","ty":"vec_u8"},{"name":"count","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["if",[">=u","cp",768],["<u","cp",880],0],["return",1],0],["if",["if",[">=u","cp",6832],["<u","cp",6912],0],["return",1],0],["if",["if",[">=u","cp",7616],["<u","cp",7680],0],["return",1],0],["if",["if",[">=u","cp",8400],["<u","cp",8448],0],["return",1],0],["if",[">=u","cp",65056],["<u","cp",65072],0]],"kind":"defn","name":"ext.unicode._is_combining_mark_basic","params":[{"name":"cp","ty":"i32"}],"result":"i32"},{"body":["if",[">=u","c",128],["if",["<u","c",192],1,0],0],"kind":"defn","name":"ext.unicode._is_cont","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["if",[">=u","cp",127995],["<u","cp",128000],0],"kind":"defn","name":"ext.unicode._is_emoji_modifier","params":[{"name":"cp","ty":"i32"}],"result":"i32"},{"body":["if",["if",["ext.unicode._is_combining_mark_basic","cp"],1,["ext.unicode._is_variation_selector","cp"]],1,["ext.unicode._is_emoji_modifier","cp"]],"kind":"defn","name":"ext.unicode._is_extend","params":[{"name":"cp","ty":"i32"}],"result":"i32"},{"body":["if",[">=u","cp",127462],["<u","cp",127488],0],"kind":"defn","name":"ext.unicode._is_regional_indicator","params":[{"name":"cp","ty":"i32"}],"result":"i32"},{"body":["begin",["if",[">=u","cp",65024],["if",["<u","cp",65040],["return",1],0],0],["if",[">=u","cp",917760],["<u","cp",917999],0]],"kind":"defn","name":"ext.unicode._is_variation_selector","params":[{"name":"cp","ty":"i32"}],"result":"i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",9]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","code"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode._make_err","params":[{"name":"code","ty":"i32"}],"result":"bytes"},{"body":["+","cp",["<<u","len",24]],"kind":"defn","name":"ext.unicode._pack_utf8","params":[{"name":"cp","ty":"i32"},{"name":"len","ty":"i32"}],"result":"i32"},{"body":["begin",["let","o","out"],["set","o",["vec_u8.push","o",["&",[">>u","u",8],255]]],["set","o",["vec_u8.push","o",["&","u",255]]],"o"],"kind":"defn","name":"ext.unicode._push_u16_be","params":[{"name":"out","ty":"vec_u8"},{"name":"u","ty":"i32"}],"result":"vec_u8"},{"body":["begin",["let","o","out"],["set","o",["vec_u8.push","o",["&","u",255]]],["set","o",["vec_u8.push","o",["&",[">>u","u",8],255]]],"o"],"kind":"defn","name":"ext.unicode._push_u16_le","params":[{"name":"out","ty":"vec_u8"},{"name":"u","ty":"i32"}],"result":"vec_u8"},{"body":["begin",["let","b",["codec.write_u32_le","x"]],["set","out",["vec_u8.extend_bytes_range","out","b",0,["bytes.len","b"]]],"out"],"kind":"defn","name":"ext.unicode._push_u32_le","params":[{"name":"out","ty":"vec_u8"},{"name":"x","ty":"i32"}],"result":"vec_u8"},{"body":["begin",["let","hi",["view.get_u8","b","off"]],["let","lo",["view.get_u8","b",["+","off",1]]],["|","lo",["<<u","hi",8]]],"kind":"defn","name":"ext.unicode._read_u16_be","params":[{"name":"b","ty":"bytes_view"},{"name":"off","ty":"i32"}],"result":"i32"},{"body":["begin",["let","lo",["view.get_u8","b","off"]],["let","hi",["view.get_u8","b",["+","off",1]]],["|","lo",["<<u","hi",8]]],"kind":"defn","name":"ext.unicode._read_u16_le","params":[{"name":"b","ty":"bytes_view"},{"name":"off","ty":"i32"}],"result":"i32"},{"body":["begin",["let","b1",["bytes.get_u8","b","i"]],["if",["<u","b1",128],["return",["ext.unicode._pack_utf8","b1",1]],0],["if",["<u","b1",194],["return",-1],0],["if",["<u","b1",224],["begin",["if",[">=u",["+","i",1],"n"],["return",-1],0],["let","b2",["bytes.get_u8","b",["+","i",1]]],["if",["=",["ext.unicode._is_cont","b2"],0],["return",-1],0],["let","cp",["|",["<<u",["&","b1",31],6],["&","b2",63]]],["return",["ext.unicode._pack_utf8","cp",2]]],0],["if",[">=u",["+","i",2],"n"],["return",-1],0],["let","b2",["bytes.get_u8","b",["+","i",1]]],["let","b3",["bytes.get_u8","b",["+","i",2]]],["if",["=","b1",224],["if",["=",["ext.unicode._cont_range","b2",160,191],0],["return",-1],0],["if",["=","b1",237],["if",["=",["ext.unicode._cont_range","b2",128,159],0],["return",-1],0],["if",["=",["ext.unicode._is_cont","b2"],0],["return",-1],0]]],["if",["=",["ext.unicode._is_cont","b3"],0],["return",-1],0],["if",["<u","b1",240],["begin",["let","cp",["|",["|",["<<u",["&","b1",15],12],["<<u",["&","b2",63],6]],["&","b3",63]]],["return",["ext.unicode._pack_utf8","cp",3]]],0],["if",[">=u",["+","i",3],"n"],["return",-1],0],["let","b4",["bytes.get_u8","b",["+","i",3]]],["if",["=","b1",240],["if",["=",["ext.unicode._cont_range","b2",144,191],0],["return",-1],0],["if",["=","b1",244],["if",["=",["ext.unicode._cont_range","b2",128,143],0],["return",-1],0],["begin",["if",["=",["<u","b1",244],0],["return",-1],0],["if",["=",["ext.unicode._is_cont","b2"],0],["return",-1],0]]]],["if",["=",["ext.unicode._is_cont","b3"],0],["return",-1],0],["if",["=",["ext.unicode._is_cont","b4"],0],["return",-1],0],["let","cp",["|",["|",["|",["<<u",["&","b1",7],18],["<<u",["&","b2",63],12]],["<<u",["&","b3",63],6]],["&","b4",63]]],["ext.unicode._pack_utf8","cp",4]],"kind":"defn","name":"ext.unicode._utf8_decode_packed_or_neg1","params":[{"name":"b","ty":"bytes_view"},{"name":"i","ty":"i32"},{"name":"n","ty":"i32"}],"result":"i32"},{"body":["begin",["let","o","out"],["if",["<u","cp",128],["begin",["set","o",["vec_u8.push","o","cp"]],["return","o"]],0],["if",["<u","cp",2048],["begin",["set","o",["vec_u8.push","o",["|",192,[">>u","cp",6]]]],["set","o",["vec_u8.push","o",["|",128,["&","cp",63]]]],["return","o"]],0],["if",["<u","cp",65536],["begin",["set","o",["vec_u8.push","o",["|",224,[">>u","cp",12]]]],["set","o",["vec_u8.push","o",["|",128,["&",[">>u","cp",6],63]]]],["set","o",["vec_u8.push","o",["|",128,["&","cp",63]]]],["return","o"]],0],["set","o",["vec_u8.push","o",["|",240,[">>u","cp",18]]]],["set","o",["vec_u8.push","o",["|",128,["&",[">>u","cp",12],63]]]],["set","o",["vec_u8.push","o",["|",128,["&",[">>u","cp",6],63]]]],["set","o",["vec_u8.push","o",["|",128,["&","cp",63]]]],"o"],"kind":"defn","name":"ext.unicode._utf8_push_cp","params":[{"name":"out","ty":"vec_u8"},{"name":"cp","ty":"i32"}],"result":"vec_u8"},{"body":["begin",["if",["<u","b",128],["return","b"],0],["if",[">=u","b",160],["return","b"],0],["if",["=","b",128],["return",8364],0],["if",["=","b",130],["return",8218],0],["if",["=","b",131],["return",402],0],["if",["=","b",132],["return",8222],0],["if",["=","b",133],["return",8230],0],["if",["=","b",134],["return",8224],0],["if",["=","b",135],["return",8225],0],["if",["=","b",136],["return",710],0],["if",["=","b",137],["return",8240],0],["if",["=","b",138],["return",352],0],["if",["=","b",139],["return",8249],0],["if",["=","b",140],["return",338],0],["if",["=","b",142],["return",381],0],["if",["=","b",145],["return",8216],0],["if",["=","b",146],["return",8217],0],["if",["=","b",147],["return",8220],0],["if",["=","b",148],["return",8221],0],["if",["=","b",149],["return",8226],0],["if",["=","b",150],["return",8211],0],["if",["=","b",151],["return",8212],0],["if",["=","b",152],["return",732],0],["if",["=","b",153],["return",8482],0],["if",["=","b",154],["return",353],0],["if",["=","b",155],["return",8250],0],["if",["=","b",156],["return",339],0],["if",["=","b",158],["return",382],0],["if",["=","b",159],["return",376],0],-1],"kind":"defn","name":"ext.unicode._win1252_decode_byte","params":[{"name":"b","ty":"i32"}],"result":"i32"},{"body":["begin",["if",["<u","cp",128],["return","cp"],0],["if",["if",[">=u","cp",160],["<u","cp",256],0],["return","cp"],0],["if",["=","cp",8364],["return",128],0],["if",["=","cp",8218],["return",130],0],["if",["=","cp",402],["return",131],0],["if",["=","cp",8222],["return",132],0],["if",["=","cp",8230],["return",133],0],["if",["=","cp",8224],["return",134],0],["if",["=","cp",8225],["return",135],0],["if",["=","cp",710],["return",136],0],["if",["=","cp",8240],["return",137],0],["if",["=","cp",352],["return",138],0],["if",["=","cp",8249],["return",139],0],["if",["=","cp",338],["return",140],0],["if",["=","cp",381],["return",142],0],["if",["=","cp",8216],["return",145],0],["if",["=","cp",8217],["return",146],0],["if",["=","cp",8220],["return",147],0],["if",["=","cp",8221],["return",148],0],["if",["=","cp",8226],["return",149],0],["if",["=","cp",8211],["return",150],0],["if",["=","cp",8212],["return",151],0],["if",["=","cp",732],["return",152],0],["if",["=","cp",8482],["return",153],0],["if",["=","cp",353],["return",154],0],["if",["=","cp",8250],["return",155],0],["if",["=","cp",339],["return",156],0],["if",["=","cp",382],["return",158],0],["if",["=","cp",376],["return",159],0],-1],"kind":"defn","name":"ext.unicode._win1252_encode_cp","params":[{"name":"cp","ty":"i32"}],"result":"i32"},{"body":["begin",["let","n",["view.len","b"]],["let","out",["vec_u8.with_capacity",["+",1,["*","n",2]]]],["set","out",["vec_u8.push","out",1]],["for","i",0,"n",["set","out",["ext.unicode._utf8_push_cp","out",["view.get_u8","b","i"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_decode_latin1_to_utf8","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["if",["=",["=",["%","n",2],0],0],["return",["ext.unicode._make_err",4]],0],["let","out",["vec_u8.with_capacity",["+",1,"n"]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","u",["ext.unicode._read_u16_be","b","i"]],["set","i",["+","i",2]],["if",["if",[">=u","u",55296],["<u","u",56320],0],["begin",["if",[">=u","i","n"],["return",["ext.unicode._make_err",5]],0],["let","u2",["ext.unicode._read_u16_be","b","i"]],["set","i",["+","i",2]],["if",["=",["if",[">=u","u2",56320],["<u","u2",57344],0],0],["return",["ext.unicode._make_err",5]],0],["let","cp",["+",65536,["|",["<<u",["-","u",55296],10],["-","u2",56320]]]],["set","out",["ext.unicode._utf8_push_cp","out","cp"]]],["if",["if",[">=u","u",56320],["<u","u",57344],0],["return",["ext.unicode._make_err",5]],["set","out",["ext.unicode._utf8_push_cp","out","u"]]]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_decode_utf16_be_to_utf8","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["if",["=",["=",["%","n",2],0],0],["return",["ext.unicode._make_err",4]],0],["let","out",["vec_u8.with_capacity",["+",1,"n"]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","u",["ext.unicode._read_u16_le","b","i"]],["set","i",["+","i",2]],["if",["if",[">=u","u",55296],["<u","u",56320],0],["begin",["if",[">=u","i","n"],["return",["ext.unicode._make_err",5]],0],["let","u2",["ext.unicode._read_u16_le","b","i"]],["set","i",["+","i",2]],["if",["=",["if",[">=u","u2",56320],["<u","u2",57344],0],0],["return",["ext.unicode._make_err",5]],0],["let","cp",["+",65536,["|",["<<u",["-","u",55296],10],["-","u2",56320]]]],["set","out",["ext.unicode._utf8_push_cp","out","cp"]]],["if",["if",[">=u","u",56320],["<u","u",57344],0],["return",["ext.unicode._make_err",5]],["set","out",["ext.unicode._utf8_push_cp","out","u"]]]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_decode_utf16_le_to_utf8","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["let","out",["vec_u8.with_capacity",["+",1,["*","n",3]]]],["set","out",["vec_u8.push","out",1]],["for","i",0,"n",["begin",["let","byte",["view.get_u8","b","i"]],["let","cp",["ext.unicode._win1252_decode_byte","byte"]],["if",["<","cp",0],["return",["ext.unicode._make_err",9]],0],["set","out",["ext.unicode._utf8_push_cp","out","cp"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_decode_windows1252_to_utf8","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","utf8"]],["let","out",["vec_u8.with_capacity",["+",1,"n"]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp",["&","packed",16777215]],["let","len",[">>u","packed",24]],["if",[">=u","cp",256],["return",["ext.unicode._make_err",6]],0],["set","out",["vec_u8.push","out","cp"]],["set","i",["+","i","len"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_encode_utf8_to_latin1","params":[{"name":"utf8","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","utf8"]],["let","out",["vec_u8.with_capacity",["+",1,["*","n",2]]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp",["&","packed",16777215]],["let","len",[">>u","packed",24]],["if",[">=u","cp",1114112],["return",["ext.unicode._make_err",3]],0],["if",["if",[">=u","cp",55296],["<u","cp",57344],0],["return",["ext.unicode._make_err",3]],0],["if",["<u","cp",65536],["set","out",["ext.unicode._push_u16_be","out","cp"]],["begin",["let","x",["-","cp",65536]],["let","hi",["+",55296,[">>u","x",10]]],["let","lo",["+",56320,["&","x",1023]]],["set","out",["ext.unicode._push_u16_be","out","hi"]],["set","out",["ext.unicode._push_u16_be","out","lo"]]]],["set","i",["+","i","len"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_encode_utf8_to_utf16_be","params":[{"name":"utf8","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","utf8"]],["let","out",["vec_u8.with_capacity",["+",1,["*","n",2]]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp",["&","packed",16777215]],["let","len",[">>u","packed",24]],["if",[">=u","cp",1114112],["return",["ext.unicode._make_err",3]],0],["if",["if",[">=u","cp",55296],["<u","cp",57344],0],["return",["ext.unicode._make_err",3]],0],["if",["<u","cp",65536],["set","out",["ext.unicode._push_u16_le","out","cp"]],["begin",["let","x",["-","cp",65536]],["let","hi",["+",55296,[">>u","x",10]]],["let","lo",["+",56320,["&","x",1023]]],["set","out",["ext.unicode._push_u16_le","out","hi"]],["set","out",["ext.unicode._push_u16_le","out","lo"]]]],["set","i",["+","i","len"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_encode_utf8_to_utf16_le","params":[{"name":"utf8","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","utf8"]],["let","out",["vec_u8.with_capacity",["+",1,"n"]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp",["&","packed",16777215]],["let","len",[">>u","packed",24]],["let","b",["ext.unicode._win1252_encode_cp","cp"]],["if",["<","b",0],["return",["ext.unicode._make_err",7]],0],["set","out",["vec_u8.push","out","b"]],["set","i",["+","i","len"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_encode_utf8_to_windows1252","params":[{"name":"utf8","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<u",["view.len","doc"],5],["return",0],0],["if",["=",["=",["view.get_u8","doc",0],0],0],["return",0],0],["codec.read_u32_le","doc",1]],"kind":"defn","name":"ext.unicode.unicode_err_code","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","n",["view.len","doc"]],["if",["<u","n",1],["return",["bytes.alloc",0]],0],["if",["=",["=",["view.get_u8","doc",0],1],0],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","doc",1,["-","n",1]]]],"kind":"defn","name":"ext.unicode.unicode_get_bytes","params":[{"name":"doc","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","utf8"]],["let","out",["vec_u8.with_capacity",["+",13,["*","n",8]]]],["set","out",["vec_u8.push","out",1]],["set","out",["vec_u8.push","out",88]],["set","out",["vec_u8.push","out",55]],["set","out",["vec_u8.push","out",83]],["set","out",["vec_u8.push","out",76]],["set","out",["ext.unicode._push_u32_le","out",1]],["set","out",["ext.unicode._push_u32_le","out",0]],["let","count",0],["let","i",0],["let","ri_pending",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["ext.unicode._finish_slices_doc_x7sl_v1","out","count"]],0],["let","start","i"],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp",["&","packed",16777215]],["let","len",[">>u","packed",24]],["set","i",["+","i","len"]],["let","end","i"],["let","handled",0],["if",["=","cp",13],["begin",["if",["<u","i","n"],["begin",["let","p2",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","p2",0],["return",["ext.unicode._make_err",1]],0],["let","cp2",["&","p2",16777215]],["let","len2",[">>u","p2",24]],["if",["=","cp2",10],["begin",["set","i",["+","i","len2"]],["set","end","i"]],0]],0],["set","out",["ext.unicode._push_u32_le","out","start"]],["set","out",["ext.unicode._push_u32_le","out",["-","end","start"]]],["set","count",["+","count",1]],["set","ri_pending",0],["set","handled",1]],0],["if",["if",["=","handled",0],["ext.unicode._is_regional_indicator","cp"],0],["begin",["if",["=","ri_pending",0],["begin",["set","ri_pending",1],["if",["<u","i","n"],["begin",["let","p2",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","p2",0],["return",["ext.unicode._make_err",1]],0],["let","cp2",["&","p2",16777215]],["let","len2",[">>u","p2",24]],["if",["ext.unicode._is_regional_indicator","cp2"],["begin",["set","i",["+","i","len2"]],["set","end","i"],["set","ri_pending",0]],0]],0]],["set","ri_pending",0]],["set","out",["ext.unicode._push_u32_le","out","start"]],["set","out",["ext.unicode._push_u32_le","out",["-","end","start"]]],["set","count",["+","count",1]],["set","handled",1]],["if",["=","handled",0],["set","ri_pending",0],0]],["if",["=","handled",0],["begin",["let","done",0],["for","_",0,"n",["if",["=","done",0],["if",["<u","i","n"],["begin",["let","p2",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","p2",0],["return",["ext.unicode._make_err",1]],0],["let","cp2",["&","p2",16777215]],["let","len2",[">>u","p2",24]],["if",["ext.unicode._is_extend","cp2"],["begin",["set","i",["+","i","len2"]],["set","end","i"]],["if",["=","cp2",8205],["begin",["set","i",["+","i","len2"]],["set","end","i"],["if",["<u","i","n"],["begin",["let","p3",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","p3",0],["return",["ext.unicode._make_err",1]],0],["let","len3",[">>u","p3",24]],["set","i",["+","i","len3"]],["set","end","i"]],["set","done",1]]],["set","done",1]]]],["set","done",1]],0]],["set","out",["ext.unicode._push_u32_le","out","start"]],["set","out",["ext.unicode._push_u32_le","out",["-","end","start"]]],["set","count",["+","count",1]]],0]]],["ext.unicode._finish_slices_doc_x7sl_v1","out","count"]],"kind":"defn","name":"ext.unicode.unicode_grapheme_slices","params":[{"name":"utf8","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<u",["view.len","doc"],1],["return",1],0],["=",["view.get_u8","doc",0],0]],"kind":"defn","name":"ext.unicode.unicode_is_err","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","n",["view.len","utf8"]],["let","out",["vec_u8.with_capacity",["+",1,"n"]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","utf8","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp0",["&","packed",16777215]],["let","len",[">>u","packed",24]],["let","cp","cp0"],["if",["=","cp",12288],["set","cp",32],["if",["=","cp",160],["set","cp",32],["if",["if",[">=u","cp",65281],["<u","cp",65375],0],["set","cp",["-","cp",65248]],0]]],["set","out",["ext.unicode._utf8_push_cp","out","cp"]],["set","i",["+","i","len"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_nfkc_basic","params":[{"name":"utf8","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["let","out",["vec_u8.with_capacity",["+",1,["*","n",4]]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",["vec_u8.into_bytes","out"]],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","b","i","n"]],["if",["<","packed",0],["return",["ext.unicode._make_err",1]],0],["let","cp",["&","packed",16777215]],["let","len",[">>u","packed",24]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","cp"]]],["set","i",["+","i","len"]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_utf8_decode_u32le","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","codepoints_u32le"]],["if",["=",["=",["%","n",4],0],0],["return",["ext.unicode._make_err",2]],0],["let","out",["vec_u8.with_capacity",["+",1,"n"]]],["set","out",["vec_u8.push","out",1]],["let","off",0],["for","_",0,"n",["begin",["if",[">=u","off","n"],["return",["vec_u8.into_bytes","out"]],0],["let","cp",["codec.read_u32_le","codepoints_u32le","off"]],["if",[">=u","cp",1114112],["return",["ext.unicode._make_err",3]],0],["if",["if",[">=u","cp",55296],["<u","cp",57344],0],["return",["ext.unicode._make_err",3]],0],["set","out",["ext.unicode._utf8_push_cp","out","cp"]],["set","off",["+","off",4]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.unicode.unicode_utf8_encode_u32le","params":[{"name":"codepoints_u32le","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["bytes.len","b"]],["let","i",0],["for","_",0,"n",["begin",["if",[">=u","i","n"],["return",1],0],["let","packed",["ext.unicode._utf8_decode_packed_or_neg1","b","i","n"]],["if",["<","packed",0],["return",0],0],["let","len",[">>u","packed",24]],["set","i",["+","i","len"]]]],1],"kind":"defn","name":"ext.unicode.unicode_utf8_is_valid","params":[{"name":"b","ty":"bytes_view"}],"result":"i32"}],"imports":[],"kind":"module","meta":{"generated_by":"x07import","source_path":"tests/x07import/fixtures/import_sources/rust/ext_unicode@0.1.0/unicode.rs","source_sha256":"28ff379b4d89a5afafdca336859399e52729241c0133f624509bd8e454e3f101"},"module_id":"ext.unicode","schema_version":"x07.x07ast@0.3.0"}
