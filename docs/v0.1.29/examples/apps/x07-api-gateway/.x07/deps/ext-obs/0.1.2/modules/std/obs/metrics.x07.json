{"decls":[{"kind":"export","names":["std.obs.metrics.snapshot_validate_v1"]},{"body":["begin",["if",["=",["ext.data_model.doc_is_err","snapshot"],1],["return",["result_i32.err",61001]],0],["if",["!=",["ext.data_model.root_kind","snapshot"],5],["return",["result_i32.err",61002]],0],["let","root",["ext.data_model.root_offset","snapshot"]],["let","k_schema",["bytes.lit","schema_version"]],["let","schema_off",["ext.data_model.map_find","snapshot","root",["bytes.view","k_schema"]]],["if",["<","schema_off",0],["return",["result_i32.err",61003]],0],["let","schema",["ext.data_model.string_get","snapshot","schema_off"]],["if",["bytes.eq","schema",["bytes.lit","x07.obs.snapshot@0.1.0"]],0,["return",["result_i32.err",61004]]],["let","k_metrics",["bytes.lit","metrics"]],["let","metrics_off",["ext.data_model.map_find","snapshot","root",["bytes.view","k_metrics"]]],["if",["<","metrics_off",0],["return",["result_i32.err",61005]],0],["if",["!=",["ext.data_model.kind_at","snapshot","metrics_off"],4],["return",["result_i32.err",61006]],0],["if",["<",["ext.data_model.seq_len","snapshot","metrics_off"],0],["return",["result_i32.err",61007]],0],["result_i32.ok",0]],"kind":"defn","name":"std.obs.metrics.snapshot_validate_v1","params":[{"name":"snapshot","ty":"bytes_view"}],"result":"result_i32"}],"imports":["ext.data_model"],"kind":"module","module_id":"std.obs.metrics","schema_version":"x07.x07ast@0.3.0"}
