{"decls":[{"kind":"export","names":["app.util.stable_unique","app.util.stable_unique_u32"]},{"body":["begin",["if",["<=","count",1],["return",["result_i32.ok","count"]],0],["let","elem_size",["ty.size",["t","A"]]],["for","j",1,"count",["begin",["let","prev_off",["*",["-","j",1],"elem_size"]],["let","cur_off",["*","j","elem_size"]],["let","prev_val",["ty.read_le_at",["t","A"],"data","prev_off"]],["let","cur_val",["ty.read_le_at",["t","A"],"data","cur_off"]],["let","cmp_result",["ty.cmp",["t","A"],"prev_val","cur_val"]],["if",[">=","cmp_result",0],["return",["result_i32.err",1]],0]]],["result_i32.ok","count"]],"ensures":[{"expr":["if",["result_i32.is_ok","__result"],["<=",["result_i32.unwrap_or","__result",0],"count"],1],"id":"result_leq_count"}],"kind":"defn","name":"app.util.stable_unique","params":[{"name":"data","ty":"bytes_view"},{"name":"count","ty":"i32"}],"requires":[{"expr":[">=","count",0],"id":"non_negative_count"}],"result":"result_i32","type_params":[{"bound":"orderable","name":"A"}]},{"body":["tapp","app.util.stable_unique","u32","data","count"],"ensures":[{"expr":["if",["result_i32.is_ok","__result"],["<=",["result_i32.unwrap_or","__result",0],"count"],1],"id":"result_leq_count"}],"kind":"defn","name":"app.util.stable_unique_u32","params":[{"name":"data","ty":"bytes_view"},{"name":"count","ty":"i32"}],"requires":[{"expr":[">=","count",0],"id":"non_negative_count"}],"result":"result_i32"}],"imports":[],"kind":"module","module_id":"app.util","schema_version":"x07.x07ast@0.5.0"}
