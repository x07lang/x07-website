{"decls":[{"kind":"export","names":["app.plan.run_v1"]},{"body":["begin",["let","canonical",["ext.json.canon.canonicalize","plan_json"]],["let","fp",["app.fingerprint.hex_v1","plan_json"]],["let","out",["std.vec.with_capacity",512]],["set","out",["std.vec.extend_bytes","out",["bytes.lit","{\"schema_version\":\"x07dbguard.plan@0.1.0\",\"fingerprint\":\""]]],["set","out",["std.vec.extend_bytes","out",["bytes.view","fp"]]],["set","out",["std.vec.extend_bytes","out",["bytes.lit","\",\"canonical_plan\":"]]],["set","out",["std.vec.extend_bytes","out",["bytes.view","canonical"]]],["set","out",["std.vec.extend_bytes","out",["bytes.lit","}"]]],["std.vec.as_bytes","out"]],"kind":"defn","name":"app.plan.run_v1","params":[{"name":"plan_json","ty":"bytes_view"}],"requires":[{"expr":[">",["view.len","plan_json"],2],"id":"plan_nonempty"}],"result":"bytes"}],"imports":["app.fingerprint","ext.json.canon","std.bytes","std.fmt","std.vec"],"kind":"module","module_id":"app.plan","schema_version":"x07.x07ast@0.5.0"}
