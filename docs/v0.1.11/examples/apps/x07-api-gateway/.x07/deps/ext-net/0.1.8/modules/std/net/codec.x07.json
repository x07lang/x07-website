{"decls":[{"kind":"export","names":["std.net.codec.addr_dns_name_v1","std.net.codec.addr_dns_v1","std.net.codec.addr_ipv4_bytes_v1","std.net.codec.addr_ipv4_v1","std.net.codec.addr_ipv6_bytes_v1","std.net.codec.addr_ipv6_v1","std.net.codec.addr_port_v1","std.net.codec.addr_tag_dns_v1","std.net.codec.addr_tag_ipv4_v1","std.net.codec.addr_tag_ipv6_v1","std.net.codec.addr_tag_v1","std.net.codec.caps_connect_timeout_ms_v1","std.net.codec.caps_default_v1","std.net.codec.caps_io_timeout_ms_v1","std.net.codec.caps_max_read_bytes_v1","std.net.codec.caps_max_write_bytes_v1","std.net.codec.caps_poll_from_v1","std.net.codec.caps_v1"]},{"body":["begin",["if",["!=",["std.net.codec.addr_tag_v1","addr"],["std.net.codec.addr_tag_dns_v1"]],["return",["bytes.alloc",0]],0],["let","name_len",["codec.read_u32_le","addr",12]],["if",["<=","name_len",0],["return",["bytes.alloc",0]],0],["if",[">","name_len",1024],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","addr",16,"name_len"]]],"kind":"defn","name":"std.net.codec.addr_dns_name_v1","params":[{"name":"addr","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<","port",0],["return",["bytes.alloc",0]],0],["if",[">","port",65535],["return",["bytes.alloc",0]],0],["let","name_len",["view.len","name"]],["if",["<=","name_len",0],["return",["bytes.alloc",0]],0],["if",[">","name_len",1024],["return",["bytes.alloc",0]],0],["for","i",0,"name_len",["begin",["if",["=",["view.get_u8","name","i"],0],["return",["bytes.alloc",0]],0],0]],["let","cap",["+",16,"name_len"]],["let","out",["vec_u8.with_capacity","cap"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["std.net.codec.addr_tag_dns_v1"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","port"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","name_len"]]],["set","out",["vec_u8.extend_bytes_range","out","name",0,"name_len"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.codec.addr_dns_v1","params":[{"name":"name","ty":"bytes_view"},{"name":"port","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["!=",["std.net.codec.addr_tag_v1","addr"],["std.net.codec.addr_tag_ipv4_v1"]],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","addr",12,4]]],"kind":"defn","name":"std.net.codec.addr_ipv4_bytes_v1","params":[{"name":"addr","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<","port",0],["return",["bytes.alloc",0]],0],["if",[">","port",65535],["return",["bytes.alloc",0]],0],["if",["<","a",0],["return",["bytes.alloc",0]],0],["if",[">","a",255],["return",["bytes.alloc",0]],0],["if",["<","b",0],["return",["bytes.alloc",0]],0],["if",[">","b",255],["return",["bytes.alloc",0]],0],["if",["<","c",0],["return",["bytes.alloc",0]],0],["if",[">","c",255],["return",["bytes.alloc",0]],0],["if",["<","d",0],["return",["bytes.alloc",0]],0],["if",[">","d",255],["return",["bytes.alloc",0]],0],["let","out",["vec_u8.with_capacity",16]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["std.net.codec.addr_tag_ipv4_v1"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","port"]]],["set","out",["vec_u8.push","out","a"]],["set","out",["vec_u8.push","out","b"]],["set","out",["vec_u8.push","out","c"]],["set","out",["vec_u8.push","out","d"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.codec.addr_ipv4_v1","params":[{"name":"a","ty":"i32"},{"name":"b","ty":"i32"},{"name":"c","ty":"i32"},{"name":"d","ty":"i32"},{"name":"port","ty":"i32"}],"result":"bytes"},{"body":["begin",["if",["!=",["std.net.codec.addr_tag_v1","addr"],["std.net.codec.addr_tag_ipv6_v1"]],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","addr",12,16]]],"kind":"defn","name":"std.net.codec.addr_ipv6_bytes_v1","params":[{"name":"addr","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<","port",0],["return",["bytes.alloc",0]],0],["if",[">","port",65535],["return",["bytes.alloc",0]],0],["if",["!=",["view.len","ip16"],16],["return",["bytes.alloc",0]],0],["let","out",["vec_u8.with_capacity",28]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["std.net.codec.addr_tag_ipv6_v1"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","port"]]],["set","out",["vec_u8.extend_bytes_range","out","ip16",0,16]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.codec.addr_ipv6_v1","params":[{"name":"ip16","ty":"bytes_view"},{"name":"port","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","tag",["std.net.codec.addr_tag_v1","addr"]],["if",["=","tag",0],["return",0],0],["codec.read_u32_le","addr",8]],"kind":"defn","name":"std.net.codec.addr_port_v1","params":[{"name":"addr","ty":"bytes_view"}],"result":"i32"},{"body":3,"kind":"defn","name":"std.net.codec.addr_tag_dns_v1","params":[],"result":"i32"},{"body":1,"kind":"defn","name":"std.net.codec.addr_tag_ipv4_v1","params":[],"result":"i32"},{"body":2,"kind":"defn","name":"std.net.codec.addr_tag_ipv6_v1","params":[],"result":"i32"},{"body":["begin",["let","n",["view.len","addr"]],["if",["<","n",12],["return",0],0],["if",["!=",["codec.read_u32_le","addr",0],1],["return",0],0],["let","tag",["codec.read_u32_le","addr",4]],["let","port",["codec.read_u32_le","addr",8]],["if",["<","port",0],["return",0],0],["if",[">","port",65535],["return",0],0],["if",["=","tag",["std.net.codec.addr_tag_ipv4_v1"]],["if",["!=","n",16],0,"tag"],["if",["=","tag",["std.net.codec.addr_tag_ipv6_v1"]],["if",["!=","n",28],0,"tag"],["if",["=","tag",["std.net.codec.addr_tag_dns_v1"]],["begin",["if",["<","n",16],["return",0],0],["let","name_len",["codec.read_u32_le","addr",12]],["if",["<=","name_len",0],["return",0],0],["if",[">","name_len",1024],["return",0],0],["if",["!=",["+",16,"name_len"],"n"],["return",0],0],"tag"],0]]]],"kind":"defn","name":"std.net.codec.addr_tag_v1","params":[{"name":"addr","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],24],["return",30000],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",30000],0],["let","x",["codec.read_u32_le","caps",4]],["if",["<","x",0],30000,"x"]],"kind":"defn","name":"std.net.codec.caps_connect_timeout_ms_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["std.net.codec.caps_v1",30000,30000,1048576,1048576],"kind":"defn","name":"std.net.codec.caps_default_v1","params":[],"result":"bytes"},{"body":["begin",["if",["<",["view.len","caps"],24],["return",30000],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",30000],0],["let","x",["codec.read_u32_le","caps",8]],["if",["<","x",0],30000,"x"]],"kind":"defn","name":"std.net.codec.caps_io_timeout_ms_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],24],["return",1048576],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",1048576],0],["let","x",["codec.read_u32_le","caps",12]],["if",["<","x",0],1048576,"x"]],"kind":"defn","name":"std.net.codec.caps_max_read_bytes_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],24],["return",1048576],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",1048576],0],["let","x",["codec.read_u32_le","caps",16]],["if",["<","x",0],1048576,"x"]],"kind":"defn","name":"std.net.codec.caps_max_write_bytes_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","mr",["std.net.codec.caps_max_read_bytes_v1","caps"]],["let","mw",["std.net.codec.caps_max_write_bytes_v1","caps"]],["std.net.codec.caps_v1",1,1,"mr","mw"]],"kind":"defn","name":"std.net.codec.caps_poll_from_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","ct",["if",["<","connect_timeout_ms",0],0,"connect_timeout_ms"]],["let","iot",["if",["<","io_timeout_ms",0],0,"io_timeout_ms"]],["let","mr",["if",["<","max_read_bytes",0],0,"max_read_bytes"]],["let","mw",["if",["<","max_write_bytes",0],0,"max_write_bytes"]],["let","out",["vec_u8.with_capacity",24]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","ct"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","iot"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","mr"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","mw"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.codec.caps_v1","params":[{"name":"connect_timeout_ms","ty":"i32"},{"name":"io_timeout_ms","ty":"i32"},{"name":"max_read_bytes","ty":"i32"},{"name":"max_write_bytes","ty":"i32"}],"result":"bytes"}],"imports":[],"kind":"module","module_id":"std.net.codec","schema_version":"x07.x07ast@0.3.0"}
