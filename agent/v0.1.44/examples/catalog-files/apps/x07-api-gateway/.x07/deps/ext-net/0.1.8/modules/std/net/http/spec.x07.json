{"decls":[{"kind":"export","names":["std.net.http.spec.caps_default_v1","std.net.http.spec.caps_follow_location_v1","std.net.http.spec.caps_max_body_bytes_v1","std.net.http.spec.caps_max_header_bytes_v1","std.net.http.spec.caps_max_headers_v1","std.net.http.spec.caps_max_redirects_v1","std.net.http.spec.caps_timeout_s_v1","std.net.http.spec.caps_v1","std.net.http.spec.headers_canon_join_sorted_v1","std.net.http.spec.headers_empty_v1","std.net.http.spec.headers_push_v1","std.net.http.spec.headers_set_v1","std.net.http.spec.method_get","std.net.http.spec.method_post","std.net.http.spec.req_body_v1","std.net.http.spec.req_caps_v1","std.net.http.spec.req_get_v1","std.net.http.spec.req_headers_v1","std.net.http.spec.req_method_v1","std.net.http.spec.req_post_v1","std.net.http.spec.req_url_v1"]},{"body":["if",["if",[">=u","c",65],["<u","c",91],0],["+","c",32],"c"],"kind":"defn","name":"std.net.http.spec._ascii_lower","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["begin",["let","a_off",["codec.read_u32_le","offsets",["*","a",4]]],["let","b_off",["codec.read_u32_le","offsets",["*","b",4]]],["let","a_klen",["codec.read_u32_le","members","a_off"]],["let","b_klen",["codec.read_u32_le","members","b_off"]],["let","a_kstart",["+","a_off",4]],["let","b_kstart",["+","b_off",4]],["let","a_vlen_off",["+","a_kstart","a_klen"]],["let","b_vlen_off",["+","b_kstart","b_klen"]],["let","a_vlen",["codec.read_u32_le","members","a_vlen_off"]],["let","b_vlen",["codec.read_u32_le","members","b_vlen_off"]],["let","a_vstart",["+","a_vlen_off",4]],["let","b_vstart",["+","b_vlen_off",4]],["let","kcmp",["bytes.cmp_range","members","a_kstart","a_klen","members","b_kstart","b_klen"]],["if",["!=","kcmp",0],["return","kcmp"],0],["bytes.cmp_range","members","a_vstart","a_vlen","members","b_vstart","b_vlen"]],"kind":"defn","name":"std.net.http.spec._cmp_entry_kv","params":[{"name":"members","ty":"bytes_view"},{"name":"offsets","ty":"bytes_view"},{"name":"a","ty":"i32"},{"name":"b","ty":"i32"}],"result":"i32"},{"body":["begin",["let","k_len",["view.len","k"]],["let","v_len",["view.len","v"]],["set","entries",["vec_u8.extend_bytes","entries",["codec.write_u32_le","k_len"]]],["set","entries",["vec_u8.extend_bytes_range","entries","k",0,"k_len"]],["set","entries",["vec_u8.extend_bytes","entries",["codec.write_u32_le","v_len"]]],["set","entries",["vec_u8.extend_bytes_range","entries","v",0,"v_len"]],"entries"],"kind":"defn","name":"std.net.http.spec._entries_push_v1","params":[{"name":"entries","ty":"vec_u8"},{"name":"k","ty":"bytes_view"},{"name":"v","ty":"bytes_view"}],"result":"vec_u8"},{"body":["begin",["let","n",["view.len","b"]],["let","out",["vec_u8.with_capacity","n"]],["for","i",0,"n",["begin",["let","c",["view.get_u8","b","i"]],["set","out",["vec_u8.push","out",["std.net.http.spec._ascii_lower","c"]]],0]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec._lowercase_ascii","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["std.net.http.spec.caps_v1",0,30,0,4096,64,65536]],"kind":"defn","name":"std.net.http.spec.caps_default_v1","params":[],"result":"bytes"},{"body":["begin",["if",["<",["view.len","caps"],28],["return",0],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",0],0],["let","x",["codec.read_u32_le","caps",4]],["if",["<","x",0],0,"x"]],"kind":"defn","name":"std.net.http.spec.caps_follow_location_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],28],["return",65536],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",65536],0],["let","x",["codec.read_u32_le","caps",24]],["if",["<","x",0],65536,"x"]],"kind":"defn","name":"std.net.http.spec.caps_max_body_bytes_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],28],["return",4096],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",4096],0],["let","x",["codec.read_u32_le","caps",16]],["if",["<","x",0],4096,"x"]],"kind":"defn","name":"std.net.http.spec.caps_max_header_bytes_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],28],["return",64],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",64],0],["let","x",["codec.read_u32_le","caps",20]],["if",["<","x",0],64,"x"]],"kind":"defn","name":"std.net.http.spec.caps_max_headers_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],28],["return",0],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",0],0],["let","x",["codec.read_u32_le","caps",12]],["if",["<","x",0],0,"x"]],"kind":"defn","name":"std.net.http.spec.caps_max_redirects_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["if",["<",["view.len","caps"],28],["return",30],0],["if",["!=",["codec.read_u32_le","caps",0],1],["return",30],0],["let","x",["codec.read_u32_le","caps",8]],["if",["<","x",0],30,"x"]],"kind":"defn","name":"std.net.http.spec.caps_timeout_s_v1","params":[{"name":"caps","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","follow",["if",["!=","follow_location",0],1,0]],["let","t",["if",["<","timeout_s",0],0,"timeout_s"]],["let","mr",["if",["<","max_redirects",0],0,"max_redirects"]],["let","mhb",["if",["<","max_header_bytes",0],0,"max_header_bytes"]],["let","mh",["if",["<","max_headers",0],0,"max_headers"]],["let","mb",["if",["<","max_body_bytes",0],0,"max_body_bytes"]],["let","out",["vec_u8.with_capacity",28]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","follow"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","t"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","mr"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","mhb"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","mh"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","mb"]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec.caps_v1","params":[{"name":"follow_location","ty":"i32"},{"name":"timeout_s","ty":"i32"},{"name":"max_redirects","ty":"i32"},{"name":"max_header_bytes","ty":"i32"},{"name":"max_headers","ty":"i32"},{"name":"max_body_bytes","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","t",["std.net.http.spec.headers_empty_v1"]],["std.net.http.spec.headers_push_canon_v1","t","k","v"]],"kind":"defn","name":"std.net.http.spec.headers1_canon_v1","params":[{"name":"k","ty":"bytes_view"},{"name":"v","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","t",["std.net.http.spec.headers_empty_v1"]],["std.net.http.spec.headers_push_v1","t","k","v"]],"kind":"defn","name":"std.net.http.spec.headers1_v1","params":[{"name":"k","ty":"bytes_view"},{"name":"v","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","sorted",["std.net.http.spec.headers_canon_sorted_v1","table"]],["let","sv",["bytes.view","sorted"]],["let","n",["view.len","sv"]],["if",["<","n",4],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","count",["codec.read_u32_le","sv",0]],["if",["<","count",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","pos",4],["let","out_entries",["vec_u8.with_capacity","n"]],["let","out_count",0],["let","have_cur",0],["let","cur_key",["bytes.alloc",0]],["let","cur_klen",0],["let","cur_val",["vec_u8.with_capacity",0]],["for","_",0,"count",["begin",["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","klen",["codec.read_u32_le","sv","pos"]],["if",["<","klen",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","klen"],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","k_view",["view.slice","sv","pos","klen"]],["set","pos",["+","pos","klen"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","vlen",["codec.read_u32_le","sv","pos"]],["if",["<","vlen",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","vlen"],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","v_view",["view.slice","sv","pos","vlen"]],["set","pos",["+","pos","vlen"]],["if",["=","have_cur",0],["begin",["set","cur_key",["view.to_bytes","k_view"]],["set","cur_klen",["bytes.len","cur_key"]],["set","cur_val",["vec_u8.with_capacity","vlen"]],["set","cur_val",["vec_u8.extend_bytes_range","cur_val","v_view",0,"vlen"]],["set","have_cur",1],0],["begin",["begin",["let","_x07_tmp_copy",["view.to_bytes",["bytes.view","cur_key"]]],["if",["=",["bytes.cmp_range","k_view",0,"klen",["bytes.view","_x07_tmp_copy"],0,"cur_klen"],0],["begin",["set","cur_val",["vec_u8.push","cur_val",44]],["set","cur_val",["vec_u8.push","cur_val",32]],["set","cur_val",["vec_u8.extend_bytes_range","cur_val","v_view",0,"vlen"]],0],["begin",["let","cur_val_b",["vec_u8.into_bytes","cur_val"]],["set","out_entries",["std.net.http.spec._entries_push_v1","out_entries",["bytes.view","cur_key"],["bytes.view","cur_val_b"]]],["set","out_count",["+","out_count",1]],["set","cur_key",["view.to_bytes","k_view"]],["set","cur_klen",["bytes.len","cur_key"]],["set","cur_val",["vec_u8.with_capacity","vlen"]],["set","cur_val",["vec_u8.extend_bytes_range","cur_val","v_view",0,"vlen"]],0]]],0]],0]],["if",["=","have_cur",1],["begin",["let","cur_val_b2",["vec_u8.into_bytes","cur_val"]],["set","out_entries",["std.net.http.spec._entries_push_v1","out_entries",["bytes.view","cur_key"],["bytes.view","cur_val_b2"]]],["set","out_count",["+","out_count",1]],0],0],["let","entries_b",["vec_u8.into_bytes","out_entries"]],["let","out",["vec_u8.with_capacity",["+",4,["bytes.len","entries_b"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","out_count"]]],["set","out",["vec_u8.extend_bytes","out","entries_b"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec.headers_canon_join_sorted_v1","params":[{"name":"table","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","table"]],["if",["<","n",4],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","count",["codec.read_u32_le","table",0]],["if",["<","count",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","pos",4],["let","members",["vec_u8.with_capacity","n"]],["let","offsets",["vec_u8.with_capacity",["*","count",4]]],["for","_",0,"count",["begin",["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","name_len",["codec.read_u32_le","table","pos"]],["if",["<","name_len",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","name_len"],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","name_view",["view.slice","table","pos","name_len"]],["set","pos",["+","pos","name_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","val_len",["codec.read_u32_le","table","pos"]],["if",["<","val_len",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","val_len"],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","val_view",["view.slice","table","pos","val_len"]],["set","pos",["+","pos","val_len"]],["let","off",["vec_u8.len","members"]],["set","offsets",["vec_u8.extend_bytes","offsets",["codec.write_u32_le","off"]]],["let","name_canon",["std.net.http.spec._lowercase_ascii","name_view"]],["set","members",["std.net.http.spec._entries_push_v1","members",["bytes.view","name_canon"],"val_view"]],0]],["let","members_b",["vec_u8.into_bytes","members"]],["let","offsets_b",["vec_u8.into_bytes","offsets"]],["let","used",["bytes.alloc","count"]],["let","out_entries",["vec_u8.with_capacity",["bytes.len","members_b"]]],["for","_",0,"count",["begin",["let","best",-1],["for","j",0,"count",["begin",["if",["=",["bytes.get_u8","used","j"],1],0,["begin",["if",["=","best",-1],["set","best","j"],["if",["<",["std.net.http.spec._cmp_entry_kv",["bytes.view","members_b"],["bytes.view","offsets_b"],"j","best"],0],["set","best","j"],0]],0]],0]],["set","used",["bytes.set_u8","used","best",1]],["let","off2",["codec.read_u32_le",["bytes.view","offsets_b"],["*","best",4]]],["let","klen",["codec.read_u32_le",["bytes.view","members_b"],"off2"]],["let","kstart",["+","off2",4]],["let","vlen_off",["+","kstart","klen"]],["let","vlen",["codec.read_u32_le",["bytes.view","members_b"],"vlen_off"]],["let","vstart",["+","vlen_off",4]],["set","out_entries",["vec_u8.extend_bytes","out_entries",["codec.write_u32_le","klen"]]],["set","out_entries",["vec_u8.extend_bytes_range","out_entries",["bytes.view","members_b"],"kstart","klen"]],["set","out_entries",["vec_u8.extend_bytes","out_entries",["codec.write_u32_le","vlen"]]],["set","out_entries",["vec_u8.extend_bytes_range","out_entries",["bytes.view","members_b"],"vstart","vlen"]],0]],["let","entries_b",["vec_u8.into_bytes","out_entries"]],["let","out",["vec_u8.with_capacity",["+",4,["bytes.len","entries_b"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","count"]]],["set","out",["vec_u8.extend_bytes","out","entries_b"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec.headers_canon_sorted_v1","params":[{"name":"table","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","table"]],["if",["<","n",4],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","count",["codec.read_u32_le","table",0]],["if",["<","count",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","pos",4],["let","entries",["vec_u8.with_capacity","n"]],["let","out_count",0],["for","_",0,"count",["begin",["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","name_len",["codec.read_u32_le","table","pos"]],["if",["<","name_len",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","name_len"],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","name_view",["view.slice","table","pos","name_len"]],["set","pos",["+","pos","name_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","val_len",["codec.read_u32_le","table","pos"]],["if",["<","val_len",0],["return",["std.net.http.spec.headers_empty_v1"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","val_len"],["+","n",1]],["return",["std.net.http.spec.headers_empty_v1"]],0],["let","val_view",["view.slice","table","pos","val_len"]],["set","pos",["+","pos","val_len"]],["let","name_canon",["std.net.http.spec._lowercase_ascii","name_view"]],["set","entries",["std.net.http.spec._entries_push_v1","entries",["bytes.view","name_canon"],"val_view"]],["set","out_count",["+","out_count",1]],0]],["let","entries_b",["vec_u8.into_bytes","entries"]],["let","out",["vec_u8.with_capacity",["+",4,["bytes.len","entries_b"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","out_count"]]],["set","out",["vec_u8.extend_bytes","out","entries_b"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec.headers_canon_v1","params":[{"name":"table","ty":"bytes_view"}],"result":"bytes"},{"body":["codec.write_u32_le",0],"kind":"defn","name":"std.net.http.spec.headers_empty_v1","params":[],"result":"bytes"},{"body":["begin",["let","k2",["std.net.http.spec._lowercase_ascii","k"]],["std.net.http.spec.headers_push_v1","table",["bytes.view","k2"],"v"]],"kind":"defn","name":"std.net.http.spec.headers_push_canon_v1","params":[{"name":"table","ty":"bytes"},{"name":"k","ty":"bytes_view"},{"name":"v","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","h",["if",["<",["bytes.len","table"],4],["codec.write_u32_le",0],"table"]],["let","hv",["bytes.view","h"]],["let","count",["codec.read_u32_le","hv",0]],["if",["<","count",0],["set","count",0],0],["let","new_count",["+","count",1]],["let","k_len",["view.len","k"]],["let","v_len",["view.len","v"]],["let","cap",["+",["bytes.len","h"],["+",8,["+","k_len","v_len"]]]],["let","out",["vec_u8.with_capacity","cap"]],["set","out",["vec_u8.extend_bytes","out","h"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","k_len"]]],["set","out",["vec_u8.extend_bytes_range","out","k",0,"k_len"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","v_len"]]],["set","out",["vec_u8.extend_bytes_range","out","v",0,"v_len"]],["let","b",["vec_u8.into_bytes","out"]],["let","c",["codec.write_u32_le","new_count"]],["set","b",["bytes.set_u8","b",0,["bytes.get_u8","c",0]]],["set","b",["bytes.set_u8","b",1,["bytes.get_u8","c",1]]],["set","b",["bytes.set_u8","b",2,["bytes.get_u8","c",2]]],["set","b",["bytes.set_u8","b",3,["bytes.get_u8","c",3]]],"b"],"kind":"defn","name":"std.net.http.spec.headers_push_v1","params":[{"name":"table","ty":"bytes"},{"name":"k","ty":"bytes_view"},{"name":"v","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","key",["std.net.http.spec._lowercase_ascii","k"]],["let","n",["view.len","table"]],["let","count",["if",["<","n",4],0,["codec.read_u32_le","table",0]]],["if",["<","count",0],["set","count",0],0],["let","pos",4],["let","entries",["vec_u8.with_capacity","n"]],["let","out_count",0],["let","inserted",0],["for","_",0,"count",["begin",["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers1_canon_v1",["bytes.view","key"],"v"]],0],["let","name_len",["codec.read_u32_le","table","pos"]],["if",["<","name_len",0],["return",["std.net.http.spec.headers1_canon_v1",["bytes.view","key"],"v"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","name_len"],["+","n",1]],["return",["std.net.http.spec.headers1_canon_v1",["bytes.view","key"],"v"]],0],["let","name_view",["view.slice","table","pos","name_len"]],["set","pos",["+","pos","name_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["std.net.http.spec.headers1_canon_v1",["bytes.view","key"],"v"]],0],["let","val_len",["codec.read_u32_le","table","pos"]],["if",["<","val_len",0],["return",["std.net.http.spec.headers1_canon_v1",["bytes.view","key"],"v"]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","val_len"],["+","n",1]],["return",["std.net.http.spec.headers1_canon_v1",["bytes.view","key"],"v"]],0],["let","val_view",["view.slice","table","pos","val_len"]],["set","pos",["+","pos","val_len"]],["let","name_canon",["std.net.http.spec._lowercase_ascii","name_view"]],["begin",["let","_x07_tmp_key_copy",["view.to_bytes",["bytes.view","key"]]],["let","_x07_tmp_name_copy",["view.to_bytes",["bytes.view","name_canon"]]],["if",["bytes.eq",["bytes.view","_x07_tmp_name_copy"],["bytes.view","_x07_tmp_key_copy"]],["begin",["if",["=","inserted",0],["begin",["set","entries",["std.net.http.spec._entries_push_v1","entries",["bytes.view","key"],"v"]],["set","out_count",["+","out_count",1]],["set","inserted",1],0],0],0],["begin",["set","entries",["std.net.http.spec._entries_push_v1","entries",["bytes.view","name_canon"],"val_view"]],["set","out_count",["+","out_count",1]],0]]],0]],["if",["=","inserted",0],["begin",["set","entries",["std.net.http.spec._entries_push_v1","entries",["bytes.view","key"],"v"]],["set","out_count",["+","out_count",1]],0],0],["let","entries_b",["vec_u8.into_bytes","entries"]],["let","out",["vec_u8.with_capacity",["+",4,["bytes.len","entries_b"]]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","out_count"]]],["set","out",["vec_u8.extend_bytes","out","entries_b"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec.headers_set_v1","params":[{"name":"table","ty":"bytes_view"},{"name":"k","ty":"bytes_view"},{"name":"v","ty":"bytes_view"}],"result":"bytes"},{"body":1,"kind":"defn","name":"std.net.http.spec.method_get","params":[],"result":"i32"},{"body":2,"kind":"defn","name":"std.net.http.spec.method_post","params":[],"result":"i32"},{"body":["begin",["let","n",["view.len","req"]],["if",["<","n",16],["return",["bytes.alloc",0]],0],["if",["!=",["codec.read_u32_le","req",0],1],["return",["bytes.alloc",0]],0],["let","url_len",["codec.read_u32_le","req",8]],["if",["<","url_len",0],["return",["bytes.alloc",0]],0],["let","pos",["+",12,"url_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["bytes.alloc",0]],0],["let","h_len",["codec.read_u32_le","req","pos"]],["if",["<","h_len",0],["return",["bytes.alloc",0]],0],["set","pos",["+","pos",4]],["set","pos",["+","pos","h_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["bytes.alloc",0]],0],["let","body_len",["codec.read_u32_le","req","pos"]],["if",["<","body_len",0],["return",["bytes.alloc",0]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","body_len"],["+","n",1]],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","req","pos","body_len"]]],"kind":"defn","name":"std.net.http.spec.req_body_v1","params":[{"name":"req","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","req"]],["if",["<","n",16],["return",["bytes.alloc",0]],0],["if",["!=",["codec.read_u32_le","req",0],1],["return",["bytes.alloc",0]],0],["let","url_len",["codec.read_u32_le","req",8]],["if",["<","url_len",0],["return",["bytes.alloc",0]],0],["let","pos",["+",12,"url_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["bytes.alloc",0]],0],["let","h_len",["codec.read_u32_le","req","pos"]],["if",["<","h_len",0],["return",["bytes.alloc",0]],0],["set","pos",["+","pos",4]],["set","pos",["+","pos","h_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["bytes.alloc",0]],0],["let","body_len",["codec.read_u32_le","req","pos"]],["if",["<","body_len",0],["return",["bytes.alloc",0]],0],["set","pos",["+","pos",4]],["set","pos",["+","pos","body_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["bytes.alloc",0]],0],["let","caps_len",["codec.read_u32_le","req","pos"]],["if",["<","caps_len",0],["return",["bytes.alloc",0]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","caps_len"],["+","n",1]],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","req","pos","caps_len"]]],"kind":"defn","name":"std.net.http.spec.req_caps_v1","params":[{"name":"req","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","empty",["bytes.alloc",0]],["std.net.http.spec.req_v1",["std.net.http.spec.method_get"],"url","headers_table",["bytes.view","empty"],"caps"]],"kind":"defn","name":"std.net.http.spec.req_get_v1","params":[{"name":"url","ty":"bytes_view"},{"name":"headers_table","ty":"bytes_view"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","req"]],["if",["<","n",16],["return",["bytes.alloc",0]],0],["if",["!=",["codec.read_u32_le","req",0],1],["return",["bytes.alloc",0]],0],["let","url_len",["codec.read_u32_le","req",8]],["if",["<","url_len",0],["return",["bytes.alloc",0]],0],["let","pos",["+",12,"url_len"]],["if",[">=u",["+","pos",4],["+","n",1]],["return",["bytes.alloc",0]],0],["let","h_len",["codec.read_u32_le","req","pos"]],["if",["<","h_len",0],["return",["bytes.alloc",0]],0],["set","pos",["+","pos",4]],["if",[">=u",["+","pos","h_len"],["+","n",1]],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","req","pos","h_len"]]],"kind":"defn","name":"std.net.http.spec.req_headers_v1","params":[{"name":"req","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<",["view.len","req"],8],["return",0],0],["if",["!=",["codec.read_u32_le","req",0],1],["return",0],0],["codec.read_u32_le","req",4]],"kind":"defn","name":"std.net.http.spec.req_method_v1","params":[{"name":"req","ty":"bytes_view"}],"result":"i32"},{"body":["std.net.http.spec.req_v1",["std.net.http.spec.method_post"],"url","headers_table","body","caps"],"kind":"defn","name":"std.net.http.spec.req_post_v1","params":[{"name":"url","ty":"bytes_view"},{"name":"headers_table","ty":"bytes_view"},{"name":"body","ty":"bytes_view"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","req"]],["if",["<","n",12],["return",["bytes.alloc",0]],0],["if",["!=",["codec.read_u32_le","req",0],1],["return",["bytes.alloc",0]],0],["let","url_len",["codec.read_u32_le","req",8]],["if",["<","url_len",0],["return",["bytes.alloc",0]],0],["let","url_off",12],["if",[">=u",["+","url_off","url_len"],["+","n",1]],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","req","url_off","url_len"]]],"kind":"defn","name":"std.net.http.spec.req_url_v1","params":[{"name":"req","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","url_len",["view.len","url"]],["let","body_len",["view.len","body"]],["let","canon_headers",["std.net.http.spec.headers_canon_join_sorted_v1","headers_table"]],["let","h_view",["bytes.view","canon_headers"]],["let","h_len",["view.len","h_view"]],["let","caps_default",["std.net.http.spec.caps_default_v1"]],["let","caps_default_view",["bytes.view","caps_default"]],["let","caps_view",["if",[">=u",["view.len","caps"],28],["if",["=",["codec.read_u32_le","caps",0],1],"caps","caps_default_view"],"caps_default_view"]],["let","caps_len",["view.len","caps_view"]],["let","cap",["+",40,["+",["+","url_len","h_len"],["+","body_len","caps_len"]]]],["let","out",["vec_u8.with_capacity","cap"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",1]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","method"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","url_len"]]],["set","out",["vec_u8.extend_bytes_range","out","url",0,"url_len"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","h_len"]]],["set","out",["vec_u8.extend_bytes_range","out","h_view",0,"h_len"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","body_len"]]],["set","out",["vec_u8.extend_bytes_range","out","body",0,"body_len"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","caps_len"]]],["set","out",["vec_u8.extend_bytes_range","out","caps_view",0,"caps_len"]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"std.net.http.spec.req_v1","params":[{"name":"method","ty":"i32"},{"name":"url","ty":"bytes_view"},{"name":"headers_table","ty":"bytes_view"},{"name":"body","ty":"bytes_view"},{"name":"caps","ty":"bytes_view"}],"result":"bytes"}],"imports":[],"kind":"module","module_id":"std.net.http.spec","schema_version":"x07.x07ast@0.3.0"}
