{"decls":[{"kind":"export","names":["types_pipes_lab.schema.event_line_v1.cast_doc_view_v1","types_pipes_lab.schema.event_line_v1.code_doc_invalid_v1","types_pipes_lab.schema.event_line_v1.code_doc_too_large_v1","types_pipes_lab.schema.event_line_v1.code_dup_field_v1","types_pipes_lab.schema.event_line_v1.code_kind_event_v1","types_pipes_lab.schema.event_line_v1.code_kind_id_v1","types_pipes_lab.schema.event_line_v1.code_kind_value_v1","types_pipes_lab.schema.event_line_v1.code_map_too_many_entries_v1","types_pipes_lab.schema.event_line_v1.code_missing_event_v1","types_pipes_lab.schema.event_line_v1.code_missing_id_v1","types_pipes_lab.schema.event_line_v1.code_missing_value_v1","types_pipes_lab.schema.event_line_v1.code_noncanonical_map_v1","types_pipes_lab.schema.event_line_v1.code_noncanonical_number_id_v1","types_pipes_lab.schema.event_line_v1.code_noncanonical_number_value_v1","types_pipes_lab.schema.event_line_v1.code_root_kind_v1","types_pipes_lab.schema.event_line_v1.code_too_long_event_v1","types_pipes_lab.schema.event_line_v1.code_too_long_id_v1","types_pipes_lab.schema.event_line_v1.code_too_long_value_v1","types_pipes_lab.schema.event_line_v1.code_unknown_field_v1","types_pipes_lab.schema.event_line_v1.encode_doc_v1","types_pipes_lab.schema.event_line_v1.encode_value_v1","types_pipes_lab.schema.event_line_v1.err_base_v1","types_pipes_lab.schema.event_line_v1.get_event_view_v1","types_pipes_lab.schema.event_line_v1.get_id_view_v1","types_pipes_lab.schema.event_line_v1.get_value_view_v1","types_pipes_lab.schema.event_line_v1.shape_note_v1","types_pipes_lab.schema.event_line_v1.validate_doc_v1","types_pipes_lab.schema.event_line_v1.validate_value_v1"]},{"body":["begin",["let","out","entries"],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["bytes.len","key"]]]],["set","out",["vec_u8.extend_bytes","out","key"]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",["bytes.len","val"]]]],["set","out",["vec_u8.extend_bytes","out","val"]],"out"],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1._add_entry_v1","params":[{"name":"entries","ty":"vec_u8"},{"name":"key","ty":"bytes"},{"name":"val","ty":"bytes"}],"result":"vec_u8"},{"body":["begin",["let","min_len",["if",["<u","a_len","b_len"],"a_len","b_len"]],["for","i",0,"min_len",["begin",["let","ac",["view.get_u8","a",["+","a_start","i"]]],["let","bc",["view.get_u8","b",["+","b_start","i"]]],["if",["<","ac","bc"],["return",-1],0],["if",[">","ac","bc"],["return",1],0],0]],["if",["<","a_len","b_len"],-1,["if",[">","a_len","b_len"],1,0]]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1._cmp_bytes_range_v1","params":[{"name":"a","ty":"bytes_view"},{"name":"a_start","ty":"i32"},{"name":"a_len","ty":"i32"},{"name":"b","ty":"bytes_view"},{"name":"b_start","ty":"i32"},{"name":"b_len","ty":"i32"}],"result":"i32"},{"body":["begin",["let","n",["view.len","v"]],["if",["<","n",1],["return",0],0],["if",[">","n","max_bytes"],["return",0],0],["let","i0",0],["let","has_minus",0],["let","c0",["view.get_u8","v",0]],["if",["=","c0",45],["begin",["if",["<","n",2],["return",0],0],["set","i0",1],["set","has_minus",1],0],0],["let","first",["view.get_u8","v","i0"]],["if",["<","first",48],["return",0],0],["if",[">","first",57],["return",0],0],["if",["=","first",48],["begin",["if",["=","has_minus",1],["return",0],0],["if",["!=","n",1],["return",0],0],["return",1]],0],["for","i","i0","n",["begin",["let","c",["view.get_u8","v","i"]],["if",["<","c",48],["return",0],0],["if",[">","c",57],["return",0],0],0]],1],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1._is_canon_int_ascii_v1","params":[{"name":"v","ty":"bytes_view"},{"name":"max_bytes","ty":"i32"}],"result":"i32"},{"body":["begin",["let","n",["view.len","v"]],["if",["<","n",1],["return",0],0],["if",[">","n","max_bytes"],["return",0],0],["let","first",["view.get_u8","v",0]],["if",["<","first",48],["return",0],0],["if",[">","first",57],["return",0],0],["if",["=","first",48],["if",["!=","n",1],["return",0],0],0],["for","i",0,"n",["begin",["let","c",["view.get_u8","v","i"]],["if",["<","c",48],["return",0],0],["if",[">","c",57],["return",0],0],0]],1],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1._is_canon_uint_ascii_v1","params":[{"name":"v","ty":"bytes_view"},{"name":"max_bytes","ty":"i32"}],"result":"i32"},{"body":["std.brand.cast_view_v1","types_pipes_lab.event_line_v1","types_pipes_lab.schema.event_line_v1.validate_doc_v1","doc"],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.cast_doc_view_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"result_bytes_view","result_brand":"types_pipes_lab.event_line_v1"},{"body":481001,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_doc_invalid_v1","params":[],"result":"i32"},{"body":481003,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_doc_too_large_v1","params":[],"result":"i32"},{"body":481032,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_dup_field_v1","params":[],"result":"i32"},{"body":481211,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_kind_event_v1","params":[],"result":"i32"},{"body":481111,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_kind_id_v1","params":[],"result":"i32"},{"body":481311,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_kind_value_v1","params":[],"result":"i32"},{"body":481033,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_map_too_many_entries_v1","params":[],"result":"i32"},{"body":481210,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_missing_event_v1","params":[],"result":"i32"},{"body":481110,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_missing_id_v1","params":[],"result":"i32"},{"body":481310,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_missing_value_v1","params":[],"result":"i32"},{"body":481031,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_noncanonical_map_v1","params":[],"result":"i32"},{"body":481114,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_noncanonical_number_id_v1","params":[],"result":"i32"},{"body":481314,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_noncanonical_number_value_v1","params":[],"result":"i32"},{"body":481002,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_root_kind_v1","params":[],"result":"i32"},{"body":481212,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_too_long_event_v1","params":[],"result":"i32"},{"body":481112,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_too_long_id_v1","params":[],"result":"i32"},{"body":481312,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_too_long_value_v1","params":[],"result":"i32"},{"body":481030,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.code_unknown_field_v1","params":[],"result":"i32"},{"body":["begin",["let","value",["try",["types_pipes_lab.schema.event_line_v1.encode_value_v1","id","event","value"]]],["result_bytes.ok",["ext.data_model.doc_ok",["bytes.view","value"]]]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.encode_doc_v1","params":[{"name":"id","ty":"bytes_view"},{"name":"event","ty":"bytes_view"},{"name":"value","ty":"bytes_view"}],"result":"result_bytes","result_brand":"types_pipes_lab.event_line_v1"},{"body":["begin",["let","empty",["bytes.alloc",0]],["let","count",0],["let","entries",["vec_u8.with_capacity",0]],["set","entries",["vec_u8.extend_bytes","entries",["codec.write_u32_le",0]]],["if",[">",["view.len","id"],10],["return",["result_bytes.err",481112]],0],["if",["=",["types_pipes_lab.schema.event_line_v1._is_canon_uint_ascii_v1","id",10],0],["return",["result_bytes.err",481114]],0],["let","k_id",["bytes.lit","id"]],["let","v_id",["ext.data_model.value_number","id"]],["set","entries",["types_pipes_lab.schema.event_line_v1._add_entry_v1","entries","k_id","v_id"]],["set","count",["+","count",1]],["if",[">",["view.len","event"],32],["return",["result_bytes.err",481212]],0],["let","k_event",["bytes.lit","event"]],["let","v_event",["ext.data_model.value_string","event"]],["set","entries",["types_pipes_lab.schema.event_line_v1._add_entry_v1","entries","k_event","v_event"]],["set","count",["+","count",1]],["if",[">",["view.len","value"],20],["return",["result_bytes.err",481312]],0],["if",["=",["types_pipes_lab.schema.event_line_v1._is_canon_int_ascii_v1","value",20],0],["return",["result_bytes.err",481314]],0],["let","k_value",["bytes.lit","value"]],["let","v_value",["ext.data_model.value_number","value"]],["set","entries",["types_pipes_lab.schema.event_line_v1._add_entry_v1","entries","k_value","v_value"]],["set","count",["+","count",1]],["let","count_b",["codec.write_u32_le","count"]],["set","entries",["vec_u8.set","entries",0,["bytes.get_u8","count_b",0]]],["set","entries",["vec_u8.set","entries",1,["bytes.get_u8","count_b",1]]],["set","entries",["vec_u8.set","entries",2,["bytes.get_u8","count_b",2]]],["set","entries",["vec_u8.set","entries",3,["bytes.get_u8","count_b",3]]],["let","entries_b",["vec_u8.into_bytes","entries"]],["let","map_val",["ext.data_model.value_map_from_entries",["bytes.view","entries_b"]]],["if",["=",["bytes.len","map_val"],0],["return",["result_bytes.err",481002]],0],["if",[">u",["+",["bytes.len","map_val"],1],4096],["return",["result_bytes.err",481003]],0],["result_bytes.ok","map_val"]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.encode_value_v1","params":[{"name":"id","ty":"bytes_view"},{"name":"event","ty":"bytes_view"},{"name":"value","ty":"bytes_view"}],"result":"result_bytes","result_brand":"types_pipes_lab.event_line_v1"},{"body":481000,"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.err_base_v1","params":[],"result":"i32"},{"body":["begin",["let","root_off",1],["let","k",["bytes.lit","event"]],["let","v_off",["ext.data_model.map_find","doc","root_off",["bytes.view","k"]]],["if",["<","v_off",0],["return",["view.slice","doc",0,0]],0],["if",["!=",["ext.data_model.kind_at","doc","v_off"],3],["return",["view.slice","doc",0,0]],0],["let","n",["view.len","doc"]],["if",[">=u",["+","v_off",5],["+","n",1]],["return",["view.slice","doc",0,0]],0],["let","len_event",["codec.read_u32_le","doc",["+","v_off",1]]],["if",["<","len_event",0],["return",["view.slice","doc",0,0]],0],["let","start_event",["+","v_off",5]],["if",[">=u",["+","start_event","len_event"],["+","n",1]],["return",["view.slice","doc",0,0]],0],["view.slice","doc","start_event","len_event"]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.get_event_view_v1","params":[{"brand":"types_pipes_lab.event_line_v1","name":"doc","ty":"bytes_view"}],"result":"bytes_view"},{"body":["begin",["let","root_off",1],["let","k",["bytes.lit","id"]],["let","v_off",["ext.data_model.map_find","doc","root_off",["bytes.view","k"]]],["if",["<","v_off",0],["return",["view.slice","doc",0,0]],0],["if",["!=",["ext.data_model.kind_at","doc","v_off"],2],["return",["view.slice","doc",0,0]],0],["let","n",["view.len","doc"]],["if",[">=u",["+","v_off",5],["+","n",1]],["return",["view.slice","doc",0,0]],0],["let","len_id",["codec.read_u32_le","doc",["+","v_off",1]]],["if",["<","len_id",0],["return",["view.slice","doc",0,0]],0],["let","start_id",["+","v_off",5]],["if",[">=u",["+","start_id","len_id"],["+","n",1]],["return",["view.slice","doc",0,0]],0],["view.slice","doc","start_id","len_id"]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.get_id_view_v1","params":[{"brand":"types_pipes_lab.event_line_v1","name":"doc","ty":"bytes_view"}],"result":"bytes_view"},{"body":["begin",["let","root_off",1],["let","k",["bytes.lit","value"]],["let","v_off",["ext.data_model.map_find","doc","root_off",["bytes.view","k"]]],["if",["<","v_off",0],["return",["view.slice","doc",0,0]],0],["if",["!=",["ext.data_model.kind_at","doc","v_off"],2],["return",["view.slice","doc",0,0]],0],["let","n",["view.len","doc"]],["if",[">=u",["+","v_off",5],["+","n",1]],["return",["view.slice","doc",0,0]],0],["let","len_value",["codec.read_u32_le","doc",["+","v_off",1]]],["if",["<","len_value",0],["return",["view.slice","doc",0,0]],0],["let","start_value",["+","v_off",5]],["if",[">=u",["+","start_value","len_value"],["+","n",1]],["return",["view.slice","doc",0,0]],0],["view.slice","doc","start_value","len_value"]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.get_value_view_v1","params":[{"brand":"types_pipes_lab.event_line_v1","name":"doc","ty":"bytes_view"}],"result":"bytes_view"},{"body":["bytes.lit","x07schema:event_line@v1;encoding=ext.data_model;struct_map_keys_sorted=1;max_depth=64;max_seq_items=4096"],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.shape_note_v1","params":[],"result":"bytes"},{"body":["begin",["let","n",["view.len","doc"]],["if",[">","n",4096],["return",["result_i32.err",481003]],0],["if",["ext.data_model.doc_is_err","doc"],["return",["result_i32.err",481001]],0],["let","value",["view.slice","doc",1,["-","n",1]]],["types_pipes_lab.schema.event_line_v1.validate_value_v1","value"]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.validate_doc_v1","params":[{"name":"doc","ty":"bytes_view"}],"result":"result_i32"},{"body":["begin",["let","n",["view.len","value"]],["if",[">u",["+","n",1],4096],["return",["result_i32.err",481003]],0],["let","root_off",0],["if",["!=",["ext.data_model.kind_at","value","root_off"],5],["return",["result_i32.err",481002]],0],["let","map_len",["ext.data_model.map_len","value","root_off"]],["if",["<","map_len",0],["return",["result_i32.err",481002]],0],["if",[">","map_len",32],["return",["result_i32.err",481033]],0],["let","off_id",-1],["let","off_event",-1],["let","off_value",-1],["let","k_lit_id",["bytes.lit","id"]],["let","k_lit_event",["bytes.lit","event"]],["let","k_lit_value",["bytes.lit","value"]],["let","pos",["+","root_off",5]],["let","prev_start",0],["let","prev_len",0],["for","i",0,"map_len",["begin",["if",[">=u",["+","pos",4],["+","n",1]],["return",["result_i32.err",481002]],0],["let","k_len",["codec.read_u32_le","value","pos"]],["if",["<","k_len",0],["return",["result_i32.err",481002]],0],["let","k_start",["+","pos",4]],["let","k_end",["+","k_start","k_len"]],["if",[">=u","k_end",["+","n",1]],["return",["result_i32.err",481002]],0],["if",[">","i",0],["begin",["let","cmp",["types_pipes_lab.schema.event_line_v1._cmp_bytes_range_v1","value","prev_start","prev_len","value","k_start","k_len"]],["if",[">","cmp",0],["return",["result_i32.err",481031]],0],["if",["=","cmp",0],["return",["result_i32.err",481032]],0],0],0],["set","prev_start","k_start"],["set","prev_len","k_len"],["let","k_view",["view.slice","value","k_start","k_len"]],["if",["view.eq","k_view",["bytes.view","k_lit_id"]],["begin",["if",[">=","off_id",0],["return",["result_i32.err",481032]],0],["set","off_id","k_end"],0],["if",["view.eq","k_view",["bytes.view","k_lit_event"]],["begin",["if",[">=","off_event",0],["return",["result_i32.err",481032]],0],["set","off_event","k_end"],0],["if",["view.eq","k_view",["bytes.view","k_lit_value"]],["begin",["if",[">=","off_value",0],["return",["result_i32.err",481032]],0],["set","off_value","k_end"],0],["return",["result_i32.err",481030]]]]],["set","pos",["ext.data_model.skip_value","value","k_end"]],["if",["<","pos",0],["return",["result_i32.err",481002]],0],0]],["if",["<","off_id",0],["return",["result_i32.err",481110]],0],["if",["<","off_event",0],["return",["result_i32.err",481210]],0],["if",["<","off_value",0],["return",["result_i32.err",481310]],0],["begin",["if",["!=",["ext.data_model.kind_at","value","off_id"],2],["return",["result_i32.err",481111]],0],["if",[">=u",["+","off_id",5],["+","n",1]],["return",["result_i32.err",481111]],0],["let","len_id",["codec.read_u32_le","value",["+","off_id",1]]],["if",["<","len_id",0],["return",["result_i32.err",481111]],0],["let","start_id",["+","off_id",5]],["if",[">=u",["+","start_id","len_id"],["+","n",1]],["return",["result_i32.err",481111]],0],["if",[">","len_id",10],["return",["result_i32.err",481112]],0],["let","num_view",["view.slice","value","start_id","len_id"]],["let","is_canon",["types_pipes_lab.schema.event_line_v1._is_canon_uint_ascii_v1","num_view",10]],["if",["=","is_canon",0],["return",["result_i32.err",481114]],0],0],["begin",["if",["!=",["ext.data_model.kind_at","value","off_event"],3],["return",["result_i32.err",481211]],0],["if",[">=u",["+","off_event",5],["+","n",1]],["return",["result_i32.err",481211]],0],["let","len_event",["codec.read_u32_le","value",["+","off_event",1]]],["if",["<","len_event",0],["return",["result_i32.err",481211]],0],["let","start_event",["+","off_event",5]],["if",[">=u",["+","start_event","len_event"],["+","n",1]],["return",["result_i32.err",481211]],0],["if",[">","len_event",32],["return",["result_i32.err",481212]],0],0],["begin",["if",["!=",["ext.data_model.kind_at","value","off_value"],2],["return",["result_i32.err",481311]],0],["if",[">=u",["+","off_value",5],["+","n",1]],["return",["result_i32.err",481311]],0],["let","len_value",["codec.read_u32_le","value",["+","off_value",1]]],["if",["<","len_value",0],["return",["result_i32.err",481311]],0],["let","start_value",["+","off_value",5]],["if",[">=u",["+","start_value","len_value"],["+","n",1]],["return",["result_i32.err",481311]],0],["if",[">","len_value",20],["return",["result_i32.err",481312]],0],["let","num_view",["view.slice","value","start_value","len_value"]],["let","is_canon",["types_pipes_lab.schema.event_line_v1._is_canon_int_ascii_v1","num_view",20]],["if",["=","is_canon",0],["return",["result_i32.err",481314]],0],0],["result_i32.ok",0]],"kind":"defn","name":"types_pipes_lab.schema.event_line_v1.validate_value_v1","params":[{"name":"value","ty":"bytes_view"}],"result":"result_i32"}],"imports":["ext.data_model"],"kind":"module","meta":{"brands_v1":{"types_pipes_lab.event_line_v1":{"validate":"types_pipes_lab.schema.event_line_v1.validate_doc_v1"}}},"module_id":"types_pipes_lab.schema.event_line_v1","schema_version":"x07.x07ast@0.4.0"}
