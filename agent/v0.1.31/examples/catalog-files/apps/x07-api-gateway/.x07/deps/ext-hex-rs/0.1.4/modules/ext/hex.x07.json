{"decls":[{"kind":"export","names":["ext.hex.hex_decode","ext.hex.hex_encode","ext.hex.hex_err_code","ext.hex.hex_get_bytes","ext.hex.hex_is_err"]},{"body":["begin",["if",[">=u","c",48],["if",["<u","c",58],["return",["-","c",48]],0],0],["if",[">=u","c",65],["if",["<u","c",71],["return",["+",["-","c",65],10]],0],0],["if",[">=u","c",97],["if",["<u","c",103],["return",["+",["-","c",97],10]],0],0],["-",0,1]],"kind":"defn","name":"ext.hex._from_hex_digit","params":[{"name":"c","ty":"i32"}],"result":"i32"},{"body":["begin",["if",["<u","n",10],["return",["+",48,"n"]],0],["+",87,"n"]],"kind":"defn","name":"ext.hex._hex_digit","params":[{"name":"n","ty":"i32"}],"result":"i32"},{"body":["begin",["let","out",["vec_u8.with_capacity",9]],["set","out",["vec_u8.push","out",0]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le","code"]]],["set","out",["vec_u8.extend_bytes","out",["codec.write_u32_le",0]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.hex._make_err","params":[{"name":"code","ty":"i32"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","s"]],["if",["=",["=",["%","n",2],0],0],["return",["ext.hex._make_err",1]],0],["let","out",["vec_u8.with_capacity",["+",1,["/","n",2]]]],["set","out",["vec_u8.push","out",1]],["let","i",0],["for","_",0,"n",["if",["<u","i","n"],["begin",["let","hi",["ext.hex._from_hex_digit",["view.get_u8","s","i"]]],["let","lo",["ext.hex._from_hex_digit",["view.get_u8","s",["+","i",1]]]],["if",["if",["<","hi",0],1,["<","lo",0]],["return",["ext.hex._make_err",2]],0],["set","out",["vec_u8.push","out",["+",["<<u","hi",4],"lo"]]],["set","i",["+","i",2]]],0]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.hex.hex_decode","params":[{"name":"s","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["let","n",["view.len","b"]],["let","out",["vec_u8.with_capacity",["*","n",2]]],["for","i",0,"n",["begin",["let","c",["view.get_u8","b","i"]],["set","out",["vec_u8.push","out",["ext.hex._hex_digit",["/","c",16]]]],["set","out",["vec_u8.push","out",["ext.hex._hex_digit",["%","c",16]]]]]],["vec_u8.into_bytes","out"]],"kind":"defn","name":"ext.hex.hex_encode","params":[{"name":"b","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<",["view.len","doc"],5],["return",0],0],["if",["=",["=",["view.get_u8","doc",0],0],0],["return",0],0],["codec.read_u32_le","doc",1]],"kind":"defn","name":"ext.hex.hex_err_code","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"},{"body":["begin",["let","n",["view.len","doc"]],["if",["<","n",1],["return",["bytes.alloc",0]],0],["if",["=",["=",["view.get_u8","doc",0],1],0],["return",["bytes.alloc",0]],0],["view.to_bytes",["view.slice","doc",1,["-","n",1]]]],"kind":"defn","name":"ext.hex.hex_get_bytes","params":[{"name":"doc","ty":"bytes_view"}],"result":"bytes"},{"body":["begin",["if",["<",["view.len","doc"],1],["return",1],0],["=",["view.get_u8","doc",0],0]],"kind":"defn","name":"ext.hex.hex_is_err","params":[{"name":"doc","ty":"bytes_view"}],"result":"i32"}],"imports":[],"kind":"module","meta":{"generated_by":"x07import","source_path":"tests/x07import/fixtures/import_sources/rust/ext_hex@0.1.0/hex.rs","source_sha256":"4058ced0244e0ea5b64041c65e07a19c175c0cf4cf422bb1abcea884c5adf36c"},"module_id":"ext.hex","schema_version":"x07.x07ast@0.3.0"}
