{"decls":[{"kind":"export","names":["smoke.frames_roundtrip"]},{"body":["begin",["let","ws_payload0",["bytes.lit","hello"]],["let","ws_res",["std.net.ws.frame_v1",1,1,["bytes.view","ws_payload0"]]],["try",["std.test.assert_i32_eq",["result_bytes.err_code","ws_res"],0,["std.test.code_assert_i32_eq"]]],["let","ws_frame",["result_bytes.unwrap_or","ws_res",["bytes.alloc",0]]],["try",["std.test.assert_i32_eq",["std.net.ws.frame_is_valid_v1",["bytes.view","ws_frame"]],1,["std.test.code_assert_i32_eq"]]],["let","ws_payload1",["std.net.ws.frame_payload_v1",["bytes.view","ws_frame"]]],["try",["std.test.assert_bytes_eq","ws_payload1","ws_payload0",["std.test.code_assert_bytes_eq"]]],["let","grpc_payload0",["bytes.lit","ping"]],["let","grpc_res",["std.net.grpc.msg_prefix_v1",0,["bytes.view","grpc_payload0"]]],["try",["std.test.assert_i32_eq",["result_bytes.err_code","grpc_res"],0,["std.test.code_assert_i32_eq"]]],["let","grpc_frame",["result_bytes.unwrap_or","grpc_res",["bytes.alloc",0]]],["let","grpc_un",["std.net.grpc.msg_unprefix_v1",["bytes.view","grpc_frame"]]],["try",["std.test.assert_i32_eq",["result_bytes.err_code","grpc_un"],0,["std.test.code_assert_i32_eq"]]],["let","grpc_payload1",["result_bytes.unwrap_or","grpc_un",["bytes.alloc",0]]],["try",["std.test.assert_bytes_eq","grpc_payload1","grpc_payload0",["std.test.code_assert_bytes_eq"]]],["std.test.pass"]],"kind":"defn","name":"smoke.frames_roundtrip","params":[],"result":"result_i32"}],"imports":["std.net.grpc","std.net.ws","std.test"],"kind":"module","module_id":"smoke","schema_version":"x07.x07ast@0.3.0"}
